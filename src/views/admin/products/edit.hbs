{{!< ../layouts/main}}
<div class="p-6 max-w-xl mx-auto bg-white rounded shadow">
  <h2 class="text-xl font-bold mb-4">Editar Producto</h2>
  <form action="/admin/products/edit/{{producto.id}}" method="POST" enctype="multipart/form-data" class="space-y-4">
    <input type="text" name="nombre" value="{{producto.nombre}}" required class="w-full p-2 border rounded">

    <textarea name="descripcion" class="w-full p-2 border rounded" rows="3">{{producto.descripcion}}</textarea>

    <input type="number" name="precio" value="{{producto.precio}}" step="0.01" required class="w-full p-2 border rounded" min="0">

    <input type="number" name="stock" value="{{producto.stock}}" required class="w-full p-2 border rounded" min="0">

    <input type="text" name="categoria" value="{{producto.categoria}}" class="w-full p-2 border rounded" maxlength="100">

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Imagen actual:</label>
      {{#if producto.imagen}}
        <img src="/uploads/{{producto.imagen}}" class="w-16 h-16 object-cover rounded">
      {{else}}
        <p class="text-sm text-gray-400 italic">Sin imagen</p>
      {{/if}}
    </div>

    <input type="file" name="imagen" accept="image/*" class="w-full p-2 border rounded">

    <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition">Actualizar</button>

    {{#if error}}
      <div class="bg-red-100 border border-red-400 text-red-700 p-2 rounded mt-2">
        <i class="fas fa-exclamation-circle mr-1"></i>{{error}}
      </div>
    {{/if}}
  </form>
</div>
