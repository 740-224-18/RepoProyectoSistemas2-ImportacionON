{{!< ../layouts/main}}

<div class="p-8 bg-white rounded-xl shadow-lg max-w-7xl mx-auto">
  <div class="flex flex-col md:flex-row md:justify-between md:items-center mb-6 gap-4">
     <h2 class="text-3xl font-bold text-[#0F172A] mb-6">Lista de Productos</h2>
    <div class="flex gap-3">
      <a href="/admin/dashboard"
         class="inline-flex items-center gap-2 bg-[#0F172A] text-[#FFD700] hover:bg-[#FFD700] hover:text-[#0F172A] border border-[#0F172A] transition-all duration-200 px-4 py-2 rounded-lg font-semibold shadow">
        <i class="fas fa-arrow-left"></i> Dashboard
      </a>
      <a href="/admin/products/add" 
      class="mt-6 inline-block bg-[#0F172A] hover:bg-[#FFD700] hover:text-[#0F172A] text-[#FFD700] transition px-6 py-3 rounded font-semibold shadow">
        <i class="fas fa-arrow-left"></i>+ Agregar Nuevo Producto
      </a>
    </div>
  </div>
  <div class="overflow-x-auto">
    <table class="min-w-full table-auto border-collapse rounded-xl overflow-hidden shadow border border-[#FFD700]">
      <thead>
        <tr class="bg-[#0F172A] text-[#FFD700] text-sm uppercase">
          <th class="border border-[#FFD700] px-4 py-2 font-bold">Imagen</th>
          <th class="border border-[#FFD700] px-4 py-2 font-bold">Nombre</th>
          <th class="border border-[#FFD700] px-4 py-2 font-bold">Descripción</th>
          <th class="border border-[#FFD700] px-4 py-2 font-bold">Precio</th>
          <th class="border border-[#FFD700] px-4 py-2 font-bold">Stock</th>
          <th class="border border-[#FFD700] px-4 py-2 font-bold">Categoría</th>
          <th class="border border-[#FFD700] px-4 py-2 font-bold">Acciones</th>
        </tr>
      </thead>
      <tbody>
        {{#each productos}}
          <tr class="hover:bg-[#FFFBEA] transition">
            <td class="border border-[#FFD700] px-4 py-2 text-center">
              {{#if foto}}
                <img src="/images/products/{{foto}}" alt="Foto de {{nombre}}" class="w-12 h-12 object-cover rounded-full mx-auto border-2 border-[#FFD700] shadow">
              {{else}}
                <span class="text-gray-400 italic block text-center">Sin foto</span>
              {{/if}}
            </td>
            <td class="border border-[#FFD700] px-4 py-2 align-middle text-[#0F172A] font-semibold">{{nombre}}</td>
            <td class="border border-[#FFD700] px-4 py-2 align-middle text-[#0F172A]">{{descripcion}}</td>
            <td class="border border-[#FFD700] px-4 py-2 align-middle text-[#0F172A]">${{precio}}</td>
            <td class="border border-[#FFD700] px-4 py-2 align-middle text-[#0F172A]">{{stock}}</td>
            <td class="border border-[#FFD700] px-4 py-2 align-middle text-[#0F172A]">{{categoria_nombre}}</td>
            <td class="border border-[#FFD700] px-4 py-2 align-middle whitespace-nowrap">
              <a href="/admin/products/edit/{{cod_producto}}"
                 class="inline-flex items-center gap-1 px-3 py-1 rounded bg-[#FFD700] text-[#0F172A] font-bold hover:bg-[#FFAA00] transition shadow"
                 aria-label="Editar {{nombre}}">
                <i class="fas fa-edit"></i> Editar
              </a>
              <a href="/admin/products/delete/{{cod_producto}}"
                 class="inline-flex items-center gap-1 px-3 py-1 rounded bg-[#b90504] text-black font-bold hover:bg-[#990100] transition shadow ml-2"
                 onclick="return confirm('¿Estás seguro de que quieres eliminar este producto?')"
                 aria-label="Eliminar {{nombre}}">
                <i class="fas fa-trash-alt"></i> Eliminar
              </a>
            </td>
          </tr>
        {{/each}}
      </tbody>
    </table>
  </div>
  
</div>