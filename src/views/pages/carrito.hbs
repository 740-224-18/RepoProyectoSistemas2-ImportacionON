{{!< ../layouts/main}}

<div class="container mx-auto p-6">
  <h2 class="text-2xl font-bold mb-4">Tu Carrito de Compras</h2>

  {{#if productos.length}}
    <table class="w-full border border-gray-300 rounded mb-6">
      <thead class="bg-gray-100">
        <tr>
          <th class="p-3 border-b text-left">Producto</th>
          <th class="p-3 border-b text-center">Cantidad</th>
          <th class="p-3 border-b text-right">Precio Unitario (Bs.)</th>
          <th class="p-3 border-b text-right">Subtotal (Bs.)</th>
        </tr>
      </thead>
      <tbody>
        {{#each productos}}
          <tr>
            <td class="p-3 border-b">{{nombre}}</td>
            <td class="p-3 border-b text-center">{{cantidad}}</td>
            <td class="p-3 border-b text-right">{{precio}}</td>
            <td class="p-3 border-b text-right">{{subtotal}}</td>
          </tr>
        {{/each}}
      </tbody>
    </table>

    <p class="text-xl font-semibold text-right mb-6">Total: Bs. {{total}}</p>

    <form action="/carrito/confirmar" method="POST" class="text-right">
      <button type="submit" class="btn-gold py-2 px-6 rounded-full">Confirmar Compra</button>
    </form>

  {{else}}
    <p class="text-center text-blue-600 text-lg">No hay productos en el carrito.</p>
  {{/if}}

  {{#if error_msg}}
    <p class="text-red-600 mt-4 text-center">{{error_msg}}</p>
  {{/if}}

  {{#if success_msg}}
    <p class="text-green-600 mt-4 text-center">{{success_msg}}</p>
  {{/if}}
</div>
